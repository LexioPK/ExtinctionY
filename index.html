<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROM Hack Pokedex</title>

<!-- Lexend font -->
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600&display=swap" rel="stylesheet">

<style>
  /* General layout */
  body { font-family: 'Lexend', sans-serif; margin:0; background:#f5f5f5; }
  header { background:#222; color:white; padding:15px; text-align:center; font-size:24px; }

  .content { padding:20px; }
  .pokedex-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(250px,1fr)); gap:15px; }

  /* Pok√©mon card */
  .mon-card { background:white; padding:15px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
  .mon-card:hover { transform:scale(1.02); transition:0.2s; }

  /* Sprites */
  .sprite { width:96px; height:96px; display:block; margin-bottom:8px; }

  /* Type badges */
  .type-badge {
    display:inline-block;
    padding:4px 10px;
    margin-right:4px;
    border-radius:8px;
    color:white;
    font-weight:600;
    font-size:12px;
    text-align:center;
    font-family:'Lexend', sans-serif;
  }

  h3, h4 { margin:5px 0; }
  ul { margin:5px 0; padding-left:20px; }
</style>
</head>
<body>

<header>ROM Hack Pokedex</header>

<div class="content" id="pokedex">
  <div id="pokedexGrid" class="pokedex-grid">Loading...</div>
</div>

<script>
const typeColors = {
  Normal: "#A8A77A",
  Fire: "#EE8130",
  Water: "#6390F0",
  Electric: "#F7D02C",
  Grass: "#7AC74C",
  Ice: "#96D9D6",
  Fighting: "#C22E28",
  Poison: "#A33EA1",
  Ground: "#E2BF65",
  Flying: "#A98FF3",
  Psychic: "#F95587",
  Bug: "#A6B91A",
  Rock: "#B6A136",
  Ghost: "#735797",
  Dragon: "#6F35FC",
  Dark: "#705746",
  Steel: "#B7B7CE",
  Fairy: "#D685AD"
};

fetch('data/pokedex.json')
  .then(r => r.json())
  .then(data => {
    const container = document.getElementById('pokedexGrid');
    container.innerHTML = '';

    Object.entries(data)
      .sort(([,a],[,b]) => a.SpeciesIdx - b.SpeciesIdx)
      .forEach(([name, mon]) => {
        const types = [mon.Type1, mon.Type2].filter((t,i,a)=>t && a.indexOf(t)===i);

        // Showdown Gen5 sprite
        const spriteName = name.toLowerCase().replace(/\s+/g,'-').replace(/\./g,'');
        const imageUrl = `http://play.pokemonshowdown.com/sprites/gen5/${spriteName}.png`;

        const card = document.createElement('div');
        card.className = 'mon-card';

        card.innerHTML = `
          <h3>#${mon.SpeciesIdx} ${name}</h3>
          <img src="${imageUrl}" alt="${name}" class="sprite" />
          <div>
            ${types.map(t => `<span class="type-badge" style="background-color: ${typeColors[t] || '#777'}">${t}</span>`).join('')}
          </div>
          <h4>Base Stats</h4>
          <ul>
            <li>HP: ${mon.BaseStats.HP}</li>
            <li>Atk: ${mon.BaseStats.Atk}</li>
            <li>Def: ${mon.BaseStats.Def}</li>
            <li>SpA: ${mon.BaseStats.SpA}</li>
            <li>SpD: ${mon.BaseStats.SpD}</li>
            <li>Spe: ${mon.BaseStats.Spe}</li>
          </ul>
          <h4>Abilities</h4>
          <ul>
            <li>${mon.Ability1}</li>
            <li>${mon.Ability2}</li>
            <li>Hidden: ${mon.AbilityH}</li>
          </ul>
        `;
        container.appendChild(card);
      });
  })
  .catch(err => {
    document.getElementById('pokedexGrid').textContent = "Error loading JSON.";
    console.error(err);
  });
</script>

</body>
</html>
