<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Moves - Extinction Y</title>

<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    body {
        font-family: "Lexend", sans-serif;
        background: #f0f0f0;
        margin: 0;
        padding: 20px;
    }

    /* Sticky Header (Tabs + Search + Title) */
    .sticky-header {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: #f0f0f0;
        padding-bottom: 10px;
        padding-top: 10px;
    }

    /* Tabs row */
    .tabs-row {
        display: flex;
        justify-content: space-between; /* left ‚Üê tabs | search ‚Üí right */
        align-items: center;
        margin-bottom: 10px;
    }

    /* Navigation Tabs */
    .tabs {
        display: flex;
        gap: 20px;
    }

    .tab {
        font-size: 1.1em;
        padding: 10px 18px;
        background: #ffffff;
        border-radius: 10px;
        text-decoration: none;
        color: black;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    .tab:hover { background: #e4e4e4; }
    .active { background: #d0ffd6; font-weight: bold; }

    /* Search bar */
    #searchInput {
        padding: 8px 12px;
        width: 250px;
        font-size: 1em;
        border-radius: 8px;
        border: 1px solid #ccc;
    }

    /* Sticky centered title */
    h1 {
        text-align: center;
        margin-top: 10px;
        margin-bottom: 20px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        background: #fff;
        box-shadow: 0 3px 8px rgba(0,0,0,0.15);
        border-radius: 12px;
        overflow: hidden;
    }

    th, td {
        text-align: left;
        padding: 10px 12px;
        border-bottom: 1px solid #ddd;
        font-size: 0.9em;
    }

    th {
        background: #f5f5f5;
        font-weight: 600;
    }

    tr:hover { background: #f0f0f0; }

    .type {
        display: inline-block;
        padding: 2px 8px;
        border-radius: 10px;
        color: #fff;
        font-size: 0.85em;
    }

    /* Type Colors */
    .type-fairy { background:#ec8fe6; }
    .type-normal { background:#9099a1; }
    .type-fire { background:#ff9c54; }
    .type-water { background:#4f90d9; }
    .type-grass { background:#63bb5b; }
    .type-electric { background:#f3d23b; }
    .type-ice { background:#74cec0; }
    .type-fighting { background:#ce4069; }
    .type-poison { background:#aa5caf; }
    .type-ground { background:#d97746; }
    .type-flying { background:#92aade; }
    .type-psychic { background:#f97176; }
    .type-bug { background:#90c12c; }
    .type-rock { background:#c7b78b; }
    .type-ghost { background:#5269ac; }
    .type-dark { background:#5a5366; }
    .type-dragon { background:#096dc4; }
    .type-steel { background:#5a8ea2; }

</style>
</head>
<body>

<!-- üî• Sticky Header (tabs + search + title) -->
<div class="sticky-header">

    <!-- Tabs + Search row (same layout as index.html) -->
    <div class="tabs-row">
        <div class="tabs">
            <a class="tab" href="index.html">Pok√©dex</a>
            <a class="tab active" href="moves.html">Moves</a>
            <a class="tab" href="trainers.html">Trainers</a>
        </div>

        <input id="searchInput" type="text" placeholder="Search Pok√©mon...">
    </div>

    <!-- Sticky Centered Title -->
    <h1>Move List</h1>

</div>

<table id="moves-table">
    <thead>
        <tr>
            <th>Move Name</th>
            <th>Type</th>
            <th>Category</th>
            <th>Power</th>
            <th>Accuracy</th>
            <th>PP</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <!-- Moves will be populated here -->
    </tbody>
</table>

<script>
function loadMoves() {
    fetch("data/moves.json")
        .then(r => r.json())
        .then(moves => {
            const tbody = document.querySelector("#moves-table tbody");
            const sorted = Object.entries(moves).sort((a, b) => a[0].localeCompare(b[0]));

            sorted.forEach(([name, mv]) => {
                const tr = document.createElement("tr");

                tr.onclick = () =>
                    window.location.href = `move.html?name=${encodeURIComponent(name)}`;

                tr.innerHTML = `
                    <td>${name}</td>
                    <td><span class="type type-${mv.Type.toLowerCase()}">${mv.Type}</span></td>
                    <td>${mv.Category}</td>
                    <td>${mv.Power ?? "‚Äî"}</td>
                    <td>${mv.Acc ?? "‚Äî"}%</td>
                    <td>${mv.PP}</td>
                    <td>${mv.Description}</td>
                `;

                tbody.appendChild(tr);
            });
        })
        .catch(err => console.error("Move JSON Load Error:", err));
}

loadMoves();

/* Pok√©mon Search ‚Üí Press Enter to open Pok√©mon page */
document.getElementById("searchInput").addEventListener("keypress", e => {
    if (e.key === "Enter") {
        const name = e.target.value.trim();
        if (name.length > 0)
            window.location.href = `pokemon.html?name=${encodeURIComponent(name)}`;
    }
});
</script>

</body>
</html>
